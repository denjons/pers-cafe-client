<div class="container store">

    <reciept [items]=cart  *ngIf="reciept" (onClose)="hideReciept($event)"></reciept>

    <div  class="spinner" *ngIf="laoding" ></div>

    <nav class="navbar navbar-default tm-navbar">
        <button class="btn btn-success navbar-toggle"
            data-toggle="collapse"
            data-target=".navbar-collapse"><span class="glyphicon glyphicon-chevron-down"></span></button>
            
        <div class="tm-loggo navbar-header">
            <h1>{{title}}</h1>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav tm-navbar-nav nav-cat">
                <li *ngFor="let category of categories" class="nav" >
                    
                    <a (click)="navigate(category.id)" 
                    [ngClass]="{'active': category.isActive}"  href="" >
                        <img src="{{category.imgSrc}}" />
                        <p class="cat-name">{{category.name}}</p>
                    </a>
                </li>
                <li class="nav admin add-category" [ngClass]="{'active': user?.user_type === 'ADMIN', 'inactive': user?.user_type != 'ADMIN'}">
                    <a href="/">
                        <h1>+</h1>
                        <p>Lägg till kategori</p>
                    </a>
                </li>
                <li class="nav"><button (click)="logout()" class="btn">logout</button></li>
            </ul>

            
            <p id="text-for-kassa">KASSA</p>
        </div>
        <!--<div class="new-msg-box"><a [routerLink]="['/msg']" href="">new msg</a></div>
            -->
    </nav>
    <div class="row">

        <div id="products" class="col-sm-8 col-md-7 col-lg-7 products-list">
            <filter-text (onFilterChanged)="filterChaged($event)"></filter-text>
            <div class="grid-system">
                <ul class="gc-product-grid">
                    <li *ngFor="let product of visibleProducts">
                        <product-item [product]=product [user]=user (onAddToCart)="addToCart($event)"></product-item>
                    </li>
                </ul>
                <div class="clearfix"></div>

            </div>
        </div>
        <div id="cart" class="col-sm-4 col-md-5 col-lg-5">
            <span id="text-for-kassa">KASSA</span>
             <ul class="gc-product-grid">
                 <li class="cart-item" *ngFor="let cartIitem of cart">
                     <cart-item [cartItem]=cartIitem (onIncrease)="increaseItem($event)" (onDecrease)="decreaseItem($event)"
                     (onRemove)="removeItem($event)"></cart-item>
                </li>
             </ul>

             <div class="col-lg-8 pull-right cart-total">
                 <p class="items in-cart">Antal varor: <span class="amount">{{totalProducts}}</span></p>
                 <p class="items total">Total: <span class="amount">{{totalPrice}}</span></p>
             </div>

             <div class="clearfix"></div>
             <div class="col-lg-8 swish">
                 <div class="admin swish-overlay" [ngClass]="{'active': user?.user_type === 'ADMIN', 'inactive': user?.user_type != 'ADMIN'}">
                     <h1>ADMINLÄGE</h1>
                 </div>
                 <div id="swish-number">Swisha summan til: <span id="number">0704 - 33 33 33</span></div>
                 <div id="buttons">
                     <form name="swish-submit" class="form-inline swish-form">
                         <button type="submit" class="btn btn-default submit" (click)="purchase()">Jag har Swishat</button>
                         <button type="cancel" class="btn btn-default regret">Ångra</button>
                         <div class="clearfix"></div>
                     </form>
                 </div>
             </div>

             <img class="gbg-logo" src="/src/imgs/gbg-stad-ikon.png">
        </div>

    </div>

</div>
