<div class="container store">
    <reciept [items]=cart class="popup receipt"  *ngIf="reciept" (onClose)="hideReciept($event)"></reciept>

    <div class="spinner inactive"></div>
    <div class="edit-item popup inactive">
        <h1>Redigera Vara</h1>
        <form name="edit">
            <li>
                <p>Namn:</p>
                <input type="text" placeholder="Coca Cola">
            </li>

            <li>
                <p>Pris:</p>
                <input type="number" placeholder="20">
            </li>
            <li>
                <p>Kategori:</p>
                <select>
                    <option>Läsk</option>
                    <option>Snacks</option>
                    <option>Mat</option>
                    <option>Övrigt</option>
                    <option>++ Lägg till kategori</option>
                </select>
            </li>
            <li>
                <textarea placeholder="Zero, 50cl"></textarea>
            </li>
            <li>
                <img class="thumbnail">
            </li>
            <button type="submit" class="btn btn-default submit" (click)="purchase()">Klar</button>
            <button type="cancel" class="btn btn-default regret">Ångra</button>
            <div class="clearfix"></div>
        </form>
    </div>
    <div class="alert popup inactive">
        <div id="top">
            Bekräfta korrigering
        </div>
        <div id="bottom">
            <p>Är du säker på att du vill korrigera köpet?</p>
            <form name="correct">
                <button class="btn btn-default submit">Ja</button>
                <button class="btn btn-default regret">Ångra</button>
            </form>
        </div>
    </div>
    <div class="overlay">
    </div>
    <nav class="navbar navbar-default tm-navbar">
        <button class="btn btn-success navbar-toggle"
            data-toggle="collapse"
            data-target=".navbar-collapse"><span class="glyphicon glyphicon-chevron-down"></span></button>
            
        <div class="tm-loggo navbar-header">
            <h1>{{title}}</h1>
        </div>

        <div class="navbar-collapse collapse">
            <button (click)="logout()" class="btn-default logout">Logga Ut</button>
            <nav>
                <ul class="nav navbar-nav tm-navbar-nav nav-cat">
                    <li *ngFor="let category of categories" class="nav" >
                        <a (click)="navigate(category.id)" href="" >
                            <img src="{{category.imgSrc}}" />
                            <p class="cat-name">{{category.name}}</p>
                        </a>
                    </li>
                    <li class="admin add-category" [ngClass]="{'active': user?.user_type === 'ADMIN', 'inactive': user?.user_type != 'ADMIN'}">
                        <a href="/">
                            <h1>+</h1>
                            <p>Lägg till</p>
                        </a>
                    </li>
                </ul>
                
            </nav>
            <p id="text-for-kassa">KASSA</p>
        </div>
        <!--<div class="new-msg-box"><a [routerLink]="['/msg']" href="">new msg</a></div>
            -->
    </nav>
    <div class="row">

        <div id="products" class="col-md-8 col-sm-8 products-list">
            <filter-text (onFilterChanged)="filterChaged($event)"></filter-text>
            <div class="grid-system">
                <ul class="gc-product-grid">
                    <li *ngFor="let product of visibleProducts">
                        <product-item [product]=product [user]=user (onAddToCart)="addToCart($event)"></product-item>
                    </li>
                </ul>
                <div class="clearfix"></div>

            </div>
        </div>
        <div id="cart" class="col-sm-4 col-sm-4">
            <span id="text-for-kassa">KASSA</span>
             <ul class="gc-product-grid">
                 <li class="cart-item" *ngFor="let cartIitem of cart">
                     <cart-item [cartItem]=cartIitem (onIncrease)="increaseItem($event)" (onDecrease)="decreaseItem($event)"
                     (onRemove)="removeItem($event)"></cart-item>
                </li>
             </ul>

             <div class="col-lg-8 pull-right cart-total">
                 <p class="items in-cart">Antal varor: <span class="amount">{{totalProducts}}</span></p>
                 <p class="items total">Total: <span class="amount">{{totalPrice}}</span></p>
             </div>

             <div class="clearfix"></div>
             <div class="col-lg-8 swish">
                 <div class="admin swish-overlay active" [ngClass]="{'active': user?.user_type === 'ADMIN', 'inactive': user?.user_type != 'ADMIN'}">
                     <h1>Korrigeringsläge</h1>
                     <div class="buttons">
                        <form name="swish-submit" class="form-inline swish-form">
                            <button type="submit" class="btn btn-default submit">Korrigera Köp</button>
                            <button type="cancel" class="btn btn-default regret">Ångra</button>
                            <div class="clearfix"></div>
                        </form>
                     </div>
                 </div>
                 <div id="swish-number">Swisha summan til: <span id="number">0704 - 33 33 33</span></div>
                 <div class="buttons">
                     <form name="swish-submit" class="form-inline swish-form">
                         <button type="submit" class="btn btn-default submit" (click)="purchase()">Jag har Swishat</button>
                         <button type="cancel" class="btn btn-default regret">Ångra</button>
                         <div class="clearfix"></div>
                     </form>
                 </div>
             </div>

             <img class="gbg-logo" src="/src/imgs/gbg-stad-ikon.png">
        </div>

    </div>

</div>


